# 留存分析

留存，是指用户在APP、网站等应用上使用过，并一段时间后仍有使用。

留存分析模型是一种衡量用户健康度/参与度的方法，超越下载量、DAU等这样的虚荣指标，深入了解用户的留存和流失状况，发现影响产品可持续增长的关键因素，指导市场决策、产品改进、提升用户价值等等。

**留存分析能解决哪些问题？**
1. 上个月做了一次产品迭代，如何评估其效果？是否完成了产品经理期望完成的行为？
1. 作为一个社交APP，在注册后不添加好友和添加10个好友的用户后续留存有差异吗？
1. 短期留存低，长期留存一定很差吗？
1. 两个推广渠道带来不同的用户，哪个渠道的用户更有可能是的高价值用户？
1. 近30天注册的用户，半个月都没有回访的用户比例是多少？

   ……

## 功能介绍

![image](http://imguserradar.analysys.cn/fangzhou/img/2018/04/201804022142033741.png)

### 1. 定义指标区
上方为指标定义区域，定义留存条件，细分维度查看，支持条件过滤，，支持多个人群的对比分析。

#### 1.1 定义留存
留存是基于某个用户群体的初始行为时间来计算的，描述发生了某个行为的同期群，在一段时间后是否发生了期望的行为。

初始行为和回访行为均可以是任意事件或者某个具体的事件。

**通常的三类留存可以这样来构建：**

**A. 新增用户留存**

**移动端：** 选择条件【初始行为 = 首次启动，回访行为 = 任意事件】，即可分析用户在首次使用应用后的留存情况

**H5/Web/小程序：** 选择条件【初始行为 = 首次访问，回访行为 = 浏览页面】，即可分析用户在首次访问网站后的留存情况

**B. 活跃用户留存**

**移动端：** 选择条件【初始行为 = 任意事件，回访行为 = 任意事件】，即可分析活跃的用户后续使用应用的情况

**H5/Web/小程序：** 选择条件【初始行为 = 浏览页面，回访行为 = 浏览页面】，即可分析用户活跃的用户在后续访问网站的情况

**C. 自定义留存**

相较分析新增/活跃用户的总体留存情况，关注业务的核心事件使用情况，会更有利于发现用户的行为模式和其中可能存在的问题。

e.g. 对于电商的运营，可以定义【 初始行为 = 支付订单，回访行为 = 支付订单】 了解用户的复购行为，多长时间会产生复购，可以进一步分析这些忠实用户的行为特征；对于问答应用，可以定义【初始行为 = 注册 ，回访行为 = 评论 】，了解用户在注册后有多少用户在多长的频率里会参与进来。


**不同的分析场景中可以设置多个不同的留存条件来分析：**

**初始行为和回访行为设置为相同**，对比不同的功能，重复发生的情况，发现用户对不同功能的使用粘性；

**初始行为相同，设置不同的回访行为**，对比同一个优化，是否对其他功能有不同的影响；

**回访行为相同，设置不同的初始行为**，对比发现不同的运营手段、产品功能对核心业务目标的影响。

#### 1.2 筛选条件
可以增加某个行为的条件约束，查看满足这些条件下的用户行为，e.g.对于电商运营，可以查看具体某个品类的复购情况，【初始行为 = 支付订单，商品品类 = 3C；回访行为 = 支付订单，商品品类 = 3C】。 

#### 1.3 细分维度
支持同时查看某个维度不同属性值的留存，比如不同城市的新用户留存，细分发现影响留存的特定因素。
对于不同属性值类型支持不同的分组方式，同《[事件分析 - 1.2 细分维度](https://ark.analysys.cn/docs/manual/analystics_chart_event.html)》

#### 1.4 筛选用户群
默认基于所有用户计算留存，可以选择其他已保存人群，e.g.要分析北京地区用户留存，选择北京地区的用户即可。要选择的人群事先没有保存时，可以直接新建人群。

![image](http://imguserradar.analysys.cn/fangzhou/img/2018/04/201804022142037513.png)

### 3. 图表展示
图表展示区，可以选择时间范围、时间粒度、计算留存的方式、图表样式

#### 3.1 时间范围

时间范围限制的是初始行为发生的日期，e.g 选择了【2018/03/01-2018/03/07】【初始行为 = 注册，回访行为 = 任意事件】则计算的是在2018/03/01-2018/03/07这段时间里，每一天注册的用户，在随后30天里再次回访的留存用户。

#### 3.2 时间粒度
可选择的时间粒度，包括

**按日**，最多30日留存

**按周**，最多8个周留存

**按月**，最多6个月留存

即是日、周、月留存。

#### 3.3 留存趋势
反映一段时间里每一天的用户在后续的留存情况。

![image](http://imguserradar.analysys.cn/fangzhou/img/2018/04/201804022142034444.png)

A. 基于计算的某个用户群，当细分维度时，该处显示的是维度值。

B. 初始行为的发生日期

C. 在某一天发生初始行为的用户数

D. 在某一天发生初始行为的用户在第N日/周/月发生回访行为的留存用户数/留存率

**留存用户数/留存率算法**

可以通过切换绝对值和百分数的图标，查看留存用户数和留存率

![image](http://imguserradar.analysys.cn/fangzhou/img/2018/04/201804022142036555.png)

**留存用户数，** 指在某个时间发生的初始行为X的用户，在之后的第N日/周/月进行了后续行为Y的用户（X可以等于Y）。
e.g. 初始行为=点击购买，回访行为=点击购买，4月1日发生购买的用户200人，这200人中4月2日再次购买的用户有100人，4月4日再次购买的用户有50人，则第1日自定义留存用户为100，第3日留存用户为50。

**基础计算规则**

假设定义初始行为是 X 事件，回访行为是 Y 事件。

2017/03/01-2017/03/08 小明各天的行为序列为

2017/3/1 | 2017/3/2 | 2017/3/3 | 2017/3/4 | 2017/3/5 | 2017/3/6 | 2017/3/7 | 2017/3/8
---|---|---|---|---|---|---|---
XYXY | ABC | YCX | DDY | ABC | BYC | ABC | DDY

那么计算 2017/03/01的7日留存，则需要在3月1日之后加上7日，查找2017/03/01-2017/03/08范围内，是否发生了回访行为Y事件，小明会被算作第2日、第3日、第5日、第7日的留存

**但是若细分维度时，会略有差异，分别说明提供的两类细分维度：**

**用户属性：** 根据用户属性来分组，e.g. 性别，如果小明是男，则会被算到男性用户的留存当中

**事件属性：** 根据初始行为的事件属性分组，e.g. 设备品牌，如果小明3月1日方开始用iPhone X点击了XY，随后更换了华为Mate8 又点击了XY事件，则小明会被算到iPhone X 的分组中。

**留存率，** 指N日/周/月后回访的留存用户数对于初始行为用户数的占比。

#### 3.4 留存趋势 

反映一段时间各日/周/月的留存率加权平均，衡量选定日期内总体的留存情况。

理想情况，推着时间的推移，会有一部分用户稳定留存下来使用产品，留存率曲线会平滑稳定下来。但是也可能一致衰减，通常这时候就比较危险，说明产品没有得到用户的认可，需要找到原因来改进。

![image](http://imguserradar.analysys.cn/fangzhou/img/2018/04/201804022142034601.png)

可以对比不同人群的留存，探索发现哪些因素可能会影响留存

![image](http://imguserradar.analysys.cn/fangzhou/img/2018/04/201804022142033811.png)

> 注：概况的初始行为用户量是累加值，N日后的留存率是当前列每个数据与初始行为用户数的加权平均数，如下图

![image](http://imguserradar.analysys.cn/fangzhou/img/2018/04/201804022142030644.png)


更多使用场景期待您的挖掘，如有更多有关问题，请随时联系我们 **4006-010-231**。

