# 应用管理 
易观方舟支持在同一帐号下，添加多个应用，在应用管理中可以进行统一管理， 包括应用的基础信息、接入前的埋点管理、回数状态、接入后的元数据管理、推送配置等。

![应用管理](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251456155046.png)


## 1. 添加应用

两种情况：

Ⅰ. 首次添加应用时，根据页面提示点击 添加应用 

Ⅱ.  已有应用时，点击应用列表右上角 添加应用


**填写项：** 

- 应用名称 
- 选择应用平台
- 应用领域 
- 域名（H5/Web应用时需要）

确认添加并获取AppKey（用于集成SDK时标识应用使用），即可开始接入。

> 不同平台的同一应用需分别添加获取AppKey。

> 目前支持 Android、iOS、H5/Web应用。

> 建议在正式接入前，先建一个测试应用。

![添加应用](http://imguserradar.analysys.cn/files/ark/doc/%E6%B7%BB%E5%8A%A0%E5%BA%94%E7%94%A8.gif)

## 2. 应用列表

通过以下入口都可以进入应用列表页面：

Ⅰ. 点击左侧导航栏的 管理 

Ⅱ. 选择头像下拉框中的 我的应用

Ⅲ. 在看板、分析、分群、运营页面左上角应用下拉框中的 管理应用

Ⅳ. 登录后官网首页banner中的 进入我的应用

![应用列表](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251510312730.png)

### A. 应用基础信息

平台icon：若右下角有分享的图标，表示该应用为管理员授权给您查看的应用

应用名称：点击可以进入到该应用的看板中

应用AppKey：用于集成SDK时标识应用

应用领域

累计用户数

近30日活跃用户数

添加时间

### B. 编辑应用

修改应用：只支持修改应用名称和领域

删除应用：只有应用的创建者可删除应用，删除后不可再查看该应用的任何数据

退出应用：获得被授权应用，在离职或其他不需要查看应用数据的情况下，可主动退出

### C. 回数状态

当添加完应用后，需要邀请工程师集成SDK，集成后开启debug模式，验证集成状态。

会有以下三种可能状态，不同颜色和文字区别标识


![回数状态](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251510316021.png)

**Ⅰ. 未回数，前往集成：** 表示还没有接收到任何数据，还没有集成完成。

&emsp;点击可以进入到应用详情页开始准备集成。

**Ⅱ. 已回数，未验证：** 表示已经收到了应用的数据，但是工程师在集成SDK时，并没有打开debug模式去验证实时日志，收到的数据能够正常参与计算，但是不一定工程师的埋点与业务需求一致。

&emsp;点击可进入日志页面，开启debug模式，开始验证。

**Ⅲ. 已回数，查看日志：** 表示已经收到了实时的日志。

&emsp;点击可进入日志页面，查看回传数据的准确性、完整性和及时性。

### D. 操作

点击相应项目进入应用详情页管理，Android/iOS 与 H5/Web 的选项略有差异。

![管理](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251510314462.png)

## 3. 应用详情

每个应用的详情页，可以进行接入前的埋点管理，接入引导、接入后的回传日志验证、元数据管理等。

![应用详情](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251514423664.png)

### 3.1 预埋点事件梳理 / 预上传用户属性梳理

在开始接入数据之前，需要梳理以下几个问题，记录哪些

  1. 分析您的应用当前所处的阶段，设置合理的目标，拉新？促活？提高转化？
  2. 分析实现目标需要采集哪些行为？
  3. 需要从哪些维度去分析用户？

用户行为是由用户一系列的事件组成，包含5个基本要素：何人，何时，何地，通过何种方式，发生了何种行为。

**事件：** 记录用户触发的行为，例如 注册、登录、支付等等

**事件属性：** 更精准的描述用户行为，例如事件发生的位置、方式和内容

**属性值：** 属性的具体值，不同的属性，属性值不同，例如，支付方式的属性值，可以是微信支付，支付宝支付；设备品牌的属性值，可以是小米，锤子


Event要素 | 要素说明|采集的数据 |示例 |
---|---|---|---
Who | 参与事件的用户|用户唯一ID |H522a3bd525a2af 
When | 事件发生的时间|自动获取 事件当时时间 |11月11日00:02:03 
Where | 事件发生的地理位置|自动获取 IP、GPS信息 |114.242.249.113 
How | 事件发生的方式 |使用的环境 |设备品牌：Apple <br>设备型号：iPhone 6s<br>操作系统：iOS<br>屏幕分辨率：1920*1680<br>运营商：中国联通 <br>网络类型：Wifi<br>……
What | 事件的内容|自定义采集的事件：EventID <br>       事件属性：Key-Value |add_to_cart <br> product_name：耳麦<br> product_price：666 


其中，用户、时间、地理位置、事件发生的环境等可以自动采集，但采集哪些事件、事件的特有属性及用户的属性都需要自定义，邀请工程师埋点。


方舟提供在线梳理埋点的功能，以预埋点事件梳理为例操作如下图（预上传用户属性相同）：

![预埋点事件梳理](http://imguserradar.analysys.cn/files/ark/doc/%E9%A2%84%E5%9F%8B%E7%82%B9%E4%BA%8B%E4%BB%B6%E6%A2%B3%E7%90%86.gif)

**事件类型：** 分为点击事件和页面，二者调用的方法不同

**事件ID：** 仅支持数字、字母和下划线，用于SDK埋点标识事件

**事件名称：** 工程师无需写在代码中，仅用分析模型种显示方便查看，可修改

**事件说明：** 说明埋点位置

**属性ID：** 仅支持数字、字母和下划线，用于SDK埋点标识事件的属性

**属性名称：** 工程师无需写在代码中，仅用分析模型种显示方便查看，可修改

**属性说明：** 说明属性的注意事项

**属性值类型：** 选择属性值的类型，不同类型的属性值会有不同的运算，例如 “商品价格” 这个属性值的类型应该是数值型，分析时可以对商品价格求和、最大值、最小值、均值等



系统预置了一些常用的事件、事件属性和用户属性，如果您的业务中没有相应埋点，可以选择删除。也可以根据我们提供的事件模板和用户属性模板来梳理，批量上传。

![事件模板](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251514425057.png)

在分析过程中，需要引入更多注册用户的更多维度，比如注册用户ID、姓名、用户等级等等，也需要进行梳理，方法同事件属性

![用户属性梳理](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251514420885.png)

同样可以根据模板批量上传

![用户属性模板](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251604107619.png)


下载地址：

[易观方舟预埋点事件梳理模板_20170609.xlsx](http://imguserradar.analysys.cn/files/ark/template/%E6%98%93%E8%A7%82%E6%96%B9%E8%88%9F%E9%A2%84%E5%9F%8B%E7%82%B9%E4%BA%8B%E4%BB%B6%E6%A2%B3%E7%90%86%E6%A8%A1%E6%9D%BF_20170609.xlsx)

[易观方舟预上传用户属性模板_20170609.xlsx](http://imguserradar.analysys.cn/files/ark/template/%E6%98%93%E8%A7%82%E6%96%B9%E8%88%9F%E9%A2%84%E4%B8%8A%E4%BC%A0%E7%94%A8%E6%88%B7%E5%B1%9E%E6%80%A7%E6%A8%A1%E6%9D%BF_20170609.xlsx)


### 3.2 集成SDK
- Android/iOS应用
  
工程师登录方舟后，进入相应的应用，查看AppKey，按照SDK使用说明集成即可。

- H5/Web应用

登录方舟后将页面生成的包含了AppKey的JS代码复制到所需分析页面中的<head>和</head>标签之间即可自动采集页面的访问数据，如果需要采集点击事件或者其他详细信息请按照 JS SDK 使用说明集成。

![集成SDK](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251610353376.png)

### 3.3 回传日志

集成SDK后，开启 Debug模式，在真机上运行测试应用/打开网站地址，对相关埋点的地方点击操作；最多5分钟之内即可看到回传日志。

可以验证上传的及时性，设备、事件、用户属性等数据的准确性，完整性，对于明显错误的埋点，系统会红色标识。

![回传日志](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251611526732.png)

### 3.4 元事件管理/用户属性管理

系统会默认校验回传日志是否满足在预梳理埋点事件和属性的需求，并在 **元事件管理** 和 **用户属性管理** 页面显示校验结果。

![元事件管理](http://imguserradar.analysys.cn/fangzhou/img/2018/05/201805022053567565.png)

也会有三种状态：

**√**  表示当前事件/属性的数据已回传，集成正确；

**×**  表示上传的属性值数据类型错误，例如自定义的 商品金额 属性，其属性值应该是100、200这样的 数值型，实际上传的数据如果毛衣、羽毛球等这样的字符串，就会识别为错误；需检查埋点代码；

**？** 表示未收到相应数据，需确定是否进行了相应的操作进行数据上传，或者检查代码是否集成

**当然也有可能事先未在方舟页面上梳理埋点，则根据回传日志，会自动匹配出实际埋点的事件和属性，需要确认显示名称和属性值类型后，加入到计算当中。**

![加入计算](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251611522047.png)


当匹配状态都为 **√** 的时候，表示所有事件、属性都集成正确，关闭 Debug 模式，即可发布应用。

> 发布应用前一定要关闭Debug模式

> 移动端的应用在发布不同渠道包时需填写不同的渠道ID，详见相应的使用说明

#### 上传维度字典
对于部分事件属性/用户属性，其属性值可能并不是易于识别的字符，e.g. 性别这个属性，上报数据时工程师可能会用0 标识女，1标识男，2标识未知；或者用户类型这个属性，上报时可能用100001、100002这样的编号来标识。

这时可以通过上传属性值一对一映射的属性值显示名称，建立维度字典，在分析的时候就可以使用带有维度字典的属性了。

支持一一单独添加，当数量较大时，支持符合模板格式的Excel批量上传。

![image](http://imguserradar.analysys.cn/fangzhou/img/2018/05/201805022125251620.gif)


### 3.5 渠道管理

根据回传数据，系统会识别出应用发布的渠道，可以修改渠道显示名称，对于不会再去分析的渠道，可以选择隐藏。

仅用于Android/iOS应用

![渠道管理](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251611522541.png)

### 3.6 版本管理

同样，根据回传数据，系统会识别出应用的各个版本，可以修改版本显示名称，对于不会再去分析的版本，可以选择隐藏。

仅用于Android/iOS应用

![渠道管理](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251611522541.png)

### 3.7 推送配置

易观方舟可以对接第三方的运营触达工具，使用之前，需要在应用中集成相应的服务商SDK，在 推送配置 中完成对接，保证三方数据的连通。

![推送配置](http://imguserradar.analysys.cn/fangzhou/img/2017/11/201711251611525906.png)


